{"version":3,"sources":["axios-orders.js","components/Feedback/ErrorModal/ErrorModal.js","components/Layout/Layout.js","assets/logo.png","components/Nav/Nav.js","components/Menu/MenuItem/MenuItem.js","components/Menu/Menu.js","components/Order/Controls/Control/Control.js","components/Order/Controls/Controls.js","components/Order/Checkout/OrderModal/OrderModal.js","components/Order/Checkout/Checkout.js","components/Order/Order.js","containers/PizzaPal/PizzaPal.js","App.js","reportWebVitals.js","index.js","context/auth-context.js","components/Feedback/Loader/Loader.js","components/Order/Checkout/OrderSummary/OrderSummary.js"],"names":["instance","axios","create","baseURL","process","ErrorModal","props","React","useState","error","open","setOpen","onClose","onOpen","Header","Content","Description","Actions","content","onClick","onClear","color","logoutTimer","Nav","auth","useContext","AuthContext","stackable","inverted","Item","src","logo","alt","as","NavLink","to","exact","isLoggedIn","userId","Menu","position","Link","logout","MenuItem","Grid","Column","mobile","computer","textAlign","Image","image","size","centered","Label","pointing","price","toFixed","width","Segment","menu","map","toppings","index","id","Control","Button","Group","icon","added","Icon","name","removed","Controls","className","toppingAdded","toppingRemoved","OrderModal","Modal","trigger","OrderSummary","disabled","checkout","Checkout","Order","active","Row","Dimmer","Dimmable","blurring","dimmed","columns","chosenToppings","totalPrice","PizzaPal","menuState","setMenuState","errorMessage","errorState","setErrorState","isLoading","loadFailed","loadingState","setLoadingState","useEffect","get","then","response","sortedToppings","data","sort","a","b","catch","errorMsg","message","console","log","location","state","order","orderState","setOrderState","checkoutDisabled","length","pizzapalMenu","Loader","divided","menuIndex","findIndex","topping","orderIndex","count","chosenTopping","push","newPrice","splice","history","pathname","YourOrders","lazy","PlaceOrder","OrderSuccess","Authenticate","YourAccount","AccountUpdate","Layout","routes","token","setToken","setUserId","tokenExpirationDate","setTokenExpirationDate","useHistory","login","useCallback","uid","expirationDate","Date","getTime","localStorage","setItem","JSON","stringify","expiration","toISOString","removeItem","storedData","parse","getItem","remainingTime","setTimeout","clearTimeout","path","component","Provider","value","Container","fallback","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","createContext","Loading","summary","verticalAlign"],"mappings":"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","file":"static/js/main.4e2359df.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL\r\n});\r\n\r\nexport default instance;","import React from \"react\";\r\nimport { Button, Modal } from \"semantic-ui-react\";\r\n\r\nconst ErrorModal = (props) => {\r\n  const [open, setOpen] = React.useState(!!props.error);\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n    >\r\n      <Modal.Header>Something went wrong</Modal.Header>\r\n      <Modal.Content>\r\n        <Modal.Description>\r\n          <p>{props.error}</p>\r\n        </Modal.Description>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          content=\"Okay\"\r\n          onClick={() => {\r\n            props.onClear();\r\n            setOpen(false);\r\n          }}\r\n          color=\"red\"\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React, { useState, useCallback, useEffect, Suspense } from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport { Route, useHistory, Switch } from \"react-router-dom\";\r\n\r\nimport \"./Layout.css\";\r\n\r\nimport Nav from \"../Nav/Nav\";\r\nimport PizzaPal from \"../../containers/PizzaPal/PizzaPal\";\r\n// import YourOrders from \"../../containers/YourOrders/YourOrders\";\r\n// import PlaceOrder from \"../../containers/PlaceOrder/PlaceOrder\";\r\n// import OrderSuccess from \"../../containers/PlaceOrder/OrderSuccess/OrderSuccess\";\r\n// import Authenticate from \"../../containers/Authenticate/Authenticate\";\r\n// import YourAccount from \"../../containers/YourAccount/YourAccount\";\r\n// import AccountUpdate from \"../../containers/YourAccount/AccountUpdate/AccountUpdate\";\r\nimport AuthContext from \"../../context/auth-context\";\r\nimport Loader from '../Feedback/Loader/Loader';\r\n\r\nconst YourOrders = React.lazy(() => import(\"../../containers/YourOrders/YourOrders\"));\r\nconst PlaceOrder = React.lazy(() => import(\"../../containers/PlaceOrder/PlaceOrder\"));\r\nconst OrderSuccess = React.lazy(() => import(\"../../containers/PlaceOrder/OrderSuccess/OrderSuccess\"));\r\nconst Authenticate = React.lazy(() => import(\"../../containers/Authenticate/Authenticate\"));\r\nconst YourAccount = React.lazy(() => import(\"../../containers/YourAccount/YourAccount\"));\r\nconst AccountUpdate = React.lazy(() => import(\"../../containers/YourAccount/AccountUpdate/AccountUpdate\"));\r\n\r\nlet logoutTimer;\r\n\r\nconst Layout = (props) => {\r\n\r\n  const [token, setToken] = useState(false);\r\n  const [userId, setUserId] = useState(false);\r\n  const [tokenExpirationDate, setTokenExpirationDate] = useState();\r\n\r\n  const history = useHistory();\r\n\r\n  const login = useCallback((uid, token, expirationDate) => {\r\n    setToken(token);\r\n    setUserId(uid);\r\n    const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n    setTokenExpirationDate(tokenExpirationDate);\r\n    localStorage.setItem(\r\n      \"userData\",\r\n      JSON.stringify({\r\n        userId: uid,\r\n        token: token,\r\n        expiration: tokenExpirationDate.toISOString()\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setTokenExpirationDate(null);\r\n    setUserId(null);\r\n    localStorage.removeItem(\"userData\");\r\n    history.push(\"/\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const storedData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if ( storedData && storedData.token ) {\r\n      login(storedData.userId, storedData.token);\r\n    }\r\n  }, [login]);\r\n\r\n  useEffect(() => {\r\n    const storedData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if ( storedData && storedData.token && new Date(storedData.expiration) > new Date() ) {\r\n      login(storedData.userId, storedData.token, new Date(storedData.expiration));\r\n    }\r\n  }, [login]);\r\n\r\n  useEffect(() => {\r\n    if (token && tokenExpirationDate) {\r\n      const remainingTime = tokenExpirationDate.getTime() - new Date().getTime();\r\n      logoutTimer = setTimeout(logout, remainingTime);\r\n    } else {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, [token, logout, tokenExpirationDate]);\r\n\r\n  let routes;\r\n  if (token) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={PizzaPal} />\r\n        <Route path=\"/orders/:uid\" component={YourOrders} />\r\n        <Route path=\"/place-order\" component={PlaceOrder} />\r\n        <Route path=\"/order-success\" component={OrderSuccess} />\r\n        <Route path=\"/users/:uid\" component={YourAccount} />\r\n        <Route path=\"/update-account\" component={AccountUpdate} />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={PizzaPal} />\r\n        <Route path=\"/authenticate\" component={Authenticate} />\r\n      </Switch>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value = {{\r\n        isLoggedIn: !!token,\r\n        token: token,\r\n        userId: userId,\r\n        login: login,\r\n        logout: logout\r\n      }}\r\n    >\r\n      <Container>\r\n        <Nav />\r\n        <Suspense fallback={<div><Loader active='true' /></div>}>\r\n          {routes}\r\n        </Suspense>\r\n      </Container>\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","export default __webpack_public_path__ + \"static/media/logo.a8255238.png\";","import { Menu } from \"semantic-ui-react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport React, { useContext } from \"react\";\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nimport logo from \"../../assets/logo.png\";\r\n\r\nconst Nav = (props) => {\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <Menu color=\"red\" stackable inverted>\r\n      <Menu.Item>\r\n        <img src={logo} alt=\"Pizza Pal Logo\" />\r\n      </Menu.Item>\r\n\r\n      <Menu.Item as={NavLink} to=\"/\" exact>\r\n        Pizza Pal\r\n      </Menu.Item>\r\n\r\n      {auth.isLoggedIn && (\r\n        <Menu.Item as={NavLink} to={`/orders/${auth.userId}`}>\r\n          Your Orders\r\n        </Menu.Item>\r\n      )}\r\n\r\n      {auth.isLoggedIn && (\r\n        <Menu.Item as={NavLink} to={`/users/${auth.userId}`}>\r\n          Your Account\r\n        </Menu.Item>\r\n      )}\r\n\r\n      {!auth.isLoggedIn && (\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item as={NavLink} to=\"/authenticate\">\r\n            Signup/Login\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      )}\r\n\r\n      {auth.isLoggedIn && (\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item as={Link} to=\"/\" onClick={auth.logout}>\r\n            Log out\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      )}\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\nimport { Grid, Image, Label } from \"semantic-ui-react\";\r\n\r\nconst MenuItem = (props) => {\r\n  return (\r\n    <Grid.Column mobile={4} computer={2} textAlign=\"center\">\r\n      <Image src={props.image} alt={props.alt} size=\"tiny\" centered />\r\n      <Label pointing>&euro; {props.price.toFixed(2)} </Label>\r\n    </Grid.Column>\r\n  );\r\n};\r\n\r\nexport default MenuItem;\r\n","import React from \"react\";\r\nimport { Grid, Header, Segment } from \"semantic-ui-react\";\r\nimport MenuItem from \"./MenuItem/MenuItem\";\r\n\r\nconst Menu = (props) => {\r\n  return (\r\n    <Grid.Column width={12}>\r\n      <Segment color=\"red\">\r\n        <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n          Pizza Pal Menu\r\n        </Header>\r\n      </Segment>\r\n      <Grid>\r\n        {props.menu.map((toppings, index) => {\r\n          return (\r\n            <MenuItem\r\n              key={toppings.id}\r\n              image={toppings.image}\r\n              alt={toppings.alt}\r\n              price={toppings.price}\r\n            />\r\n          );\r\n        })}\r\n      </Grid>\r\n    </Grid.Column>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport { Grid, Button, Icon } from 'semantic-ui-react';\r\n\r\nconst Control = (props) => {\r\n  return (\r\n    <Grid.Column mobile={4} computer={2} textAlign='center'>\r\n        <p>{props.alt}</p>\r\n        <Button.Group size='mini'>\r\n            <Button color='green' icon onClick={props.added}>\r\n                <Icon name='plus' />\r\n            </Button>\r\n            <Button color='red' icon onClick={props.removed}>\r\n                <Icon name='minus' />\r\n            </Button>\r\n        </Button.Group>\r\n    </Grid.Column>  \r\n  )\r\n};\r\n\r\nexport default Control;\r\n","import React from \"react\";\r\nimport { Grid, Header } from 'semantic-ui-react';\r\nimport Control from './Control/Control';\r\n\r\nconst Controls = (props) => {\r\n\r\n  return (\r\n    <Grid.Column width={8}>\r\n      <Header as='h2' textAlign='center' className='step'>\r\n          Step 1: Choose your toppings\r\n      </Header>\r\n      <Grid>\r\n          {props.menu.map((toppings, index) => {\r\n          return <Control \r\n              key={toppings.id}\r\n              alt={toppings.alt}\r\n              added={() => props.toppingAdded(toppings.id)}\r\n              removed={() => props.toppingRemoved(toppings.id)}\r\n          />\r\n          })}\r\n      </Grid>\r\n  </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Controls;\r\n","import React, {useState} from \"react\";\r\nimport { Button, Modal } from 'semantic-ui-react';\r\nimport OrderSummary from '../OrderSummary/OrderSummary';\r\n\r\nconst OrderModal = (props) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    return (\r\n        <Modal\r\n        onClose={() => setOpen(false)}\r\n        onOpen={() => setOpen(true)}\r\n        open={open}\r\n        trigger={<Button color='green' size='large'>Order Now!</Button>}\r\n        >\r\n            <Modal.Header>Confirm your choices:</Modal.Header>\r\n            <Modal.Content>\r\n\r\n              <OrderSummary \r\n                  menu = {props.menu}\r\n                  toppings = {props.toppings}\r\n                  price = {props.price}\r\n              />\r\n\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color='red' onClick={() => setOpen(false)}>\r\n                  Go Back\r\n              </Button>\r\n              <Button color='green' disabled={props.disabled} onClick={ () => { props.checkout(); setOpen(false); } }>\r\n                  Check out\r\n              </Button>\r\n            </Modal.Actions>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nexport default OrderModal;\r\n","import React from \"react\";\r\nimport { Grid, Header } from 'semantic-ui-react';\r\nimport OrderSummary from './OrderSummary/OrderSummary';\r\nimport OrderModal from './OrderModal/OrderModal';\r\n\r\nconst Checkout = (props) => {\r\n  return (\r\n    <Grid.Column width={6} textAlign='right'>\r\n\r\n        <Header as='h2' textAlign='center' className='step'>\r\n            Step 2: Check out \r\n        </Header>\r\n\r\n        <OrderSummary \r\n            menu = {props.menu}\r\n            toppings = {props.toppings}\r\n            price = {props.price}\r\n        />\r\n        <OrderModal \r\n            menu = {props.menu}\r\n            toppings = {props.toppings}\r\n            price = {props.price}\r\n            checkout={props.checkout}\r\n            disabled={props.disabled}\r\n        />\r\n\r\n    </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Checkout;\r\n","import { Grid, Header, Button, Dimmer } from \"semantic-ui-react\";\r\nimport Controls from \"./Controls/Controls\";\r\nimport Checkout from \"./Checkout/Checkout\";\r\nimport React, { useContext } from \"react\";\r\nimport AuthContext from \"../../context/auth-context\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Order = (props) => {\r\n\r\n  const auth = useContext(AuthContext);\r\n  let active = !auth.isLoggedIn;\r\n\r\n  return (\r\n    <Grid.Row>\r\n      <Dimmer.Dimmable as={Grid} blurring dimmed={active}>\r\n        <Grid.Row columns={2} centered>\r\n          <Controls\r\n            menu={props.menu}\r\n            toppingAdded={props.toppingAdded}\r\n            toppingRemoved={props.toppingRemoved}\r\n          />\r\n          <Checkout\r\n            menu={props.menu}\r\n            toppings={props.chosenToppings}\r\n            price={props.totalPrice}\r\n            checkout={props.checkout}\r\n            disabled={props.disabled}\r\n          />\r\n        </Grid.Row>\r\n        <Dimmer active={active}>\r\n          <Header as=\"h2\" inverted>\r\n            Log in to start creating your pizza!\r\n          </Header>\r\n          <Button as={Link} to=\"/authenticate\" color=\"red\" size=\"large\">\r\n            Signup/Login\r\n          </Button>\r\n        </Dimmer>\r\n      </Dimmer.Dimmable>\r\n    </Grid.Row>\r\n  );\r\n};\r\n\r\nexport default Order;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport axios from \"../../axios-orders\";\r\n\r\nimport Menu from \"../../components/Menu/Menu\";\r\nimport Order from \"../../components/Order/Order\";\r\nimport Loader from \"../../components/Feedback/Loader/Loader\";\r\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\r\n\r\nconst PizzaPal = (props) => {\r\n\r\n  // MENU, ERROR AND LOADING STATE AND GET TOPPINGS FROM FIREBASE\r\n  const [menuState, setMenuState] = useState({\r\n    toppings: [],\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const [loadingState, setLoadingState] = useState({\r\n    isLoading: true,\r\n    loadFailed: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/\")\r\n      .then((response) => {\r\n        let sortedToppings = response.data.toppings.sort(function (a, b) {\r\n          return a.id - b.id;\r\n        });\r\n        setMenuState({ toppings: sortedToppings });\r\n      })\r\n      .catch((error) => {\r\n        let errorMsg = \"\";\r\n        if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n        } else {\r\n          errorMsg = \"There was a problem creating your order\";\r\n        }\r\n        setErrorState({ error: true, errorMessage: errorMsg });\r\n        setLoadingState({ isLoading: false, loadFailed: menuState.loadFailed });\r\n        console.log(error.response);\r\n      });\r\n  }, []);\r\n\r\n  // ORDER STATE\r\n\r\n  // Set order state conditionally - either to old order state or starting state\r\n\r\n  const [orderState, setOrderState] = useState({\r\n    totalPrice: props.location.state\r\n      ? props.location.state.order.totalPrice\r\n      : 5,\r\n    chosenToppings: props.location.state\r\n      ? props.location.state.order.chosenToppings\r\n      : [],\r\n  });\r\n\r\n  // EVENT HANDLERS - ADD TOPPING\r\n\r\n  const addToppingHandler = (id) => {\r\n    let order = { ...orderState };\r\n\r\n    // find the chosen topping in the menu\r\n    const menuIndex = menuState.toppings.findIndex(\r\n      (topping) => topping.id === id\r\n    );\r\n\r\n    // check if the topping has already been added to the orderToppings array\r\n    const orderIndex = order.chosenToppings.findIndex(\r\n      (topping) => topping.id === id\r\n    );\r\n\r\n    // if so, increase its count by 1\r\n    if (orderIndex > -1) {\r\n      order.chosenToppings[orderIndex].count++;\r\n    }\r\n    // otherwise (i.e. this topping is being added for the first time)\r\n    // create this topping and add it to the order toppings array\r\n    else {\r\n      // Save the id, name and price of the chosen topping; set its count to 1\r\n      const chosenTopping = {\r\n        id: menuState.toppings[menuIndex].id,\r\n        name: menuState.toppings[menuIndex].alt,\r\n        price: menuState.toppings[menuIndex].price,\r\n        count: 1,\r\n      };\r\n      order.chosenToppings.push(chosenTopping);\r\n    }\r\n\r\n    // Calculate the new price\r\n    const newPrice =\r\n      orderState.totalPrice + menuState.toppings[menuIndex].price;\r\n\r\n    // Update the order state with the new price and updated toppings array\r\n    setOrderState({\r\n      totalPrice: newPrice,\r\n      chosenToppings: order.chosenToppings,\r\n    });\r\n  };\r\n\r\n  // EVENT HANDLERS - REMOVE TOPPING\r\n\r\n  const removeToppingHandler = (id) => {\r\n    let order = { ...orderState };\r\n\r\n    // Find topping with matching id from the orderToppings\r\n    const index = order.chosenToppings.findIndex(\r\n      (topping) => topping.id === id\r\n    );\r\n\r\n    // Get the current price\r\n    let price = order.totalPrice;\r\n\r\n    // If topping was found, update the price and decrease the count\r\n    if (index >= 0) {\r\n      price = price - order.chosenToppings[index].price;\r\n      order.chosenToppings[index].count--;\r\n\r\n      // If the count is now 0, remove the topping completely\r\n      if (order.chosenToppings[index].count < 1) {\r\n        order.chosenToppings.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    // Update order state with updated price and updated toppings array\r\n    setOrderState({\r\n      totalPrice: price,\r\n      chosenToppings: order.chosenToppings,\r\n    });\r\n  };\r\n\r\n  // EVENT HANDLERS - CHECK OUT\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push({\r\n      pathname: \"place-order\",\r\n      state: {\r\n        order: orderState,\r\n        menu: menuState.toppings,\r\n      },\r\n    });\r\n  };\r\n\r\n  // ERROR HANDLER\r\n\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n    setLoadingState({\r\n      isLoading: false,\r\n      loadFailed: true,\r\n    });\r\n  };\r\n\r\n  // DISABLE CHECKOUT BUTTON IF NO TOPPINGS CHOSEN\r\n\r\n  let checkoutDisabled = true;\r\n\r\n  if (orderState.chosenToppings.length > 0) {\r\n    checkoutDisabled = false;\r\n  }\r\n\r\n  // DISPLAY PIZZA PAL MENU AND CONTROLS\r\n\r\n  let pizzapalMenu = errorState.error ? (\r\n    <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n  ) : (\r\n    <Loader active={loadingState.isLoading} />\r\n  );\r\n\r\n  if (menuState.toppings.length > 0) {\r\n    pizzapalMenu = (\r\n      <Grid divided=\"vertically\" stackable>\r\n        <Grid.Row centered>\r\n          <Menu menu={menuState.toppings} />\r\n        </Grid.Row>\r\n        <Order\r\n          menu={menuState.toppings}\r\n          toppingAdded={addToppingHandler}\r\n          toppingRemoved={removeToppingHandler}\r\n          chosenToppings={orderState.chosenToppings}\r\n          totalPrice={orderState.totalPrice}\r\n          checkout={checkoutHandler}\r\n          disabled={checkoutDisabled}\r\n        />\r\n      </Grid>\r\n    );\r\n  } else if (loadingState.loadFailed) {\r\n    pizzapalMenu = (\r\n      <p>\r\n        We're having some issues loading the menu... Please try again later.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return <div>{pizzapalMenu}</div>;\r\n};\r\n\r\nexport default PizzaPal;\r\n","import { BrowserRouter } from 'react-router-dom';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nimport Layout from './components/Layout/Layout';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n        <Layout />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { createContext } from 'react';\r\n\r\nconst AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  login: () => {},\r\n  logout: () => {}\r\n});\r\n\r\nexport default AuthContext;","import React from \"react\";\r\nimport { Dimmer, Loader, Segment } from \"semantic-ui-react\";\r\n\r\nconst Loading = (props) => {\r\n  return (\r\n    <Segment>\r\n      <Dimmer active={props.active} inverted>\r\n        <Loader size=\"large\">Loading</Loader>\r\n      </Dimmer>\r\n    </Segment>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport { Header, List } from 'semantic-ui-react';\r\n\r\nconst OrderSummary = (props) => {\r\n\r\n    let summary = null;\r\n\r\n    if(props.toppings.length > 0){\r\n\r\n        summary = (\r\n            <div>\r\n                <Header as='h3'>\r\n                    Your Pizza: \r\n                </Header>\r\n\r\n                <List divided verticalAlign='middle'>\r\n                    {props.toppings.map((topping) => {\r\n                        return( \r\n                            <List.Item key={topping.id}>\r\n                                {topping.name}: {topping.count}\r\n                            </List.Item>\r\n                        )\r\n                    })}\r\n                </List>\r\n\r\n                <Header as='h4' className='h4margin'>\r\n                    Total Price: &euro; {props.price.toFixed(2)}\r\n                </Header>\r\n            </div>\r\n        );\r\n    }\r\n    else{\r\n        summary = (\r\n            <div>\r\n                <Header as='h4' className=\"h4margin\">\r\n                    Start adding some toppings! \r\n                </Header>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {summary}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderSummary;"],"sourceRoot":""}