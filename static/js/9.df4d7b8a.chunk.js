(this.webpackJsonppizzapal=this.webpackJsonppizzapal||[]).push([[9],{231:function(e,a,t){"use strict";t.r(a);var c=t(20),r=t(0),s=t.n(r),l=t(107),n=t(1),i=t(32),d=t(3),o=(t(6),t(14)),b=t(88),j=t(87),O=t(4);function u(e){var a=e.children,t=e.className,c=Object(d.a)(t),r=Object(b.a)(u,e),l=Object(j.a)(u,e);return s.a.createElement(l,Object(n.a)({},r,{className:c}),a)}u.handledProps=["as","children","className"],u.defaultProps={as:"tbody"},u.propTypes={};var p=u,h=t(134),g=t(44);function f(e){var a=e.active,t=e.children,c=e.className,r=e.collapsing,l=e.content,i=e.disabled,u=e.error,p=e.icon,h=e.negative,v=e.positive,m=e.selectable,x=e.singleLine,w=e.textAlign,N=e.verticalAlign,P=e.warning,A=e.width,L=Object(d.a)(Object(o.a)(a,"active"),Object(o.a)(r,"collapsing"),Object(o.a)(i,"disabled"),Object(o.a)(u,"error"),Object(o.a)(h,"negative"),Object(o.a)(v,"positive"),Object(o.a)(m,"selectable"),Object(o.a)(x,"single line"),Object(o.a)(P,"warning"),Object(o.d)(w),Object(o.f)(N),Object(o.g)(A,"wide"),c),y=Object(b.a)(f,e),E=Object(j.a)(f,e);return O.a.isNil(t)?s.a.createElement(E,Object(n.a)({},y,{className:L}),g.a.create(p),l):s.a.createElement(E,Object(n.a)({},y,{className:L}),t)}f.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],f.defaultProps={as:"td"},f.propTypes={},f.create=Object(h.d)(f,(function(e){return{content:e}}));var v=f;function m(e){var a=e.children,t=e.className,c=e.content,r=e.fullWidth,l=Object(d.a)(Object(o.a)(r,"full-width"),t),i=Object(b.a)(m,e),u=Object(j.a)(m,e);return s.a.createElement(u,Object(n.a)({},i,{className:l}),O.a.isNil(a)?c:a)}m.handledProps=["as","children","className","content","fullWidth"],m.defaultProps={as:"thead"},m.propTypes={};var x=m;function w(e){var a=e.as,t=Object(b.a)(w,e);return s.a.createElement(x,Object(n.a)({},t,{as:a}))}w.handledProps=["as"],w.propTypes={},w.defaultProps={as:"tfoot"};var N=w;function P(e){var a=e.as,t=e.className,c=e.sorted,r=Object(d.a)(Object(o.e)(c,"sorted"),t),l=Object(b.a)(P,e);return s.a.createElement(v,Object(n.a)({},l,{as:a,className:r}))}P.handledProps=["as","className","sorted"],P.propTypes={},P.defaultProps={as:"th"};var A=P;function L(e){var a=e.active,t=e.cellAs,c=e.cells,r=e.children,l=e.className,u=e.disabled,p=e.error,h=e.negative,g=e.positive,f=e.textAlign,m=e.verticalAlign,x=e.warning,w=Object(d.a)(Object(o.a)(a,"active"),Object(o.a)(u,"disabled"),Object(o.a)(p,"error"),Object(o.a)(h,"negative"),Object(o.a)(g,"positive"),Object(o.a)(x,"warning"),Object(o.d)(f),Object(o.f)(m),l),N=Object(b.a)(L,e),P=Object(j.a)(L,e);return O.a.isNil(r)?s.a.createElement(P,Object(n.a)({},N,{className:w}),Object(i.a)(c,(function(e){return v.create(e,{defaultProps:{as:t}})}))):s.a.createElement(P,Object(n.a)({},N,{className:w}),r)}L.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],L.defaultProps={as:"tr",cellAs:"td"},L.propTypes={},L.create=Object(h.d)(L,(function(e){return{cells:e}}));var y=L;function E(e){var a=e.attached,t=e.basic,c=e.celled,r=e.children,l=e.className,u=e.collapsing,h=e.color,g=e.columns,f=e.compact,v=e.definition,m=e.fixed,w=e.footerRow,P=e.headerRow,A=e.headerRows,L=e.inverted,R=e.padded,C=e.renderBodyRow,k=e.selectable,z=e.singleLine,F=e.size,T=e.sortable,H=e.stackable,B=e.striped,D=e.structured,M=e.tableData,S=e.textAlign,W=e.unstackable,I=e.verticalAlign,J=Object(d.a)("ui",h,F,Object(o.a)(c,"celled"),Object(o.a)(u,"collapsing"),Object(o.a)(v,"definition"),Object(o.a)(m,"fixed"),Object(o.a)(L,"inverted"),Object(o.a)(k,"selectable"),Object(o.a)(z,"single line"),Object(o.a)(T,"sortable"),Object(o.a)(H,"stackable"),Object(o.a)(B,"striped"),Object(o.a)(D,"structured"),Object(o.a)(W,"unstackable"),Object(o.b)(a,"attached"),Object(o.b)(t,"basic"),Object(o.b)(f,"compact"),Object(o.b)(R,"padded"),Object(o.d)(S),Object(o.f)(I),Object(o.g)(g,"column"),"table",l),q=Object(b.a)(E,e),G=Object(j.a)(E,e);if(!O.a.isNil(r))return s.a.createElement(G,Object(n.a)({},q,{className:J}),r);var K={defaultProps:{cellAs:"th"}},Q=(P||A)&&s.a.createElement(x,null,y.create(P,K),Object(i.a)(A,(function(e){return y.create(e,K)})));return s.a.createElement(G,Object(n.a)({},q,{className:J}),Q,s.a.createElement(p,null,C&&Object(i.a)(M,(function(e,a){return y.create(C(e,a))}))),w&&s.a.createElement(N,null,y.create(w)))}E.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],E.defaultProps={as:"table"},E.propTypes={},E.Body=p,E.Cell=v,E.Footer=N,E.Header=x,E.HeaderCell=A,E.Row=y;var R=E,C=t(147),k=t(2),z=function(e){return Object(k.jsxs)(R.Row,{verticalAlign:"top",children:[Object(k.jsx)(R.Cell,{children:e.date}),Object(k.jsx)(R.Cell,{children:Object(k.jsx)(C.a,{children:e.toppings.map((function(e){return Object(k.jsxs)(C.a.Item,{children:[e.name," : ",e.count]},e.id)}))})}),Object(k.jsxs)(R.Cell,{children:["\u20ac",e.price.toFixed(2)]})]})},F=function(e){return Object(k.jsxs)(R,{children:[Object(k.jsx)(R.Header,{children:Object(k.jsxs)(R.Row,{children:[Object(k.jsx)(R.HeaderCell,{width:4,children:"Order Date"}),Object(k.jsx)(R.HeaderCell,{width:8,children:"Pizza Description"}),Object(k.jsx)(R.HeaderCell,{width:4,children:"Price"})]})}),Object(k.jsx)(R.Body,{children:e.orders.map((function(e){return Object(k.jsx)(z,{toppings:e.chosenToppings,price:e.totalPrice,date:e.date},e.id)}))})]})},T=t(68),H=t(108),B=t(51);a.default=function(e){var a=Object(r.useContext)(B.a),t=Object(r.useState)({orders:[]}),s=Object(c.a)(t,2),n=s[0],i=s[1],d=Object(r.useState)({error:!1,errorMessage:null}),o=Object(c.a)(d,2),b=o[0],j=o[1],O=Object(r.useState)({isLoading:!0,ordersLoaded:!1,loadFailed:!1}),u=Object(c.a)(O,2),p=u[0],h=u[1];Object(r.useEffect)((function(){var e="/orders/"+a.userId;l.a.get(e,{headers:{Authorization:"Bearer "+a.token}}).then((function(e){i({orders:e.data.orders}),h({isLoading:!1,ordersLoaded:!0,loadFailed:p.loadFailed})})).catch((function(e){j({error:!0,errorMessage:e.response.data.message}),h({isLoading:!1,ordersLoaded:p.ordersLoaded,loadFailed:p.loadFailed})}))}),[]);var g=b.error?Object(k.jsx)(H.a,{error:b.errorMessage,onClear:function(){j({error:!1,errorMessage:null}),h({isLoading:p.isLoading,ordersLoaded:p.ordersLoaded,loadFailed:!0})}}):Object(k.jsx)(T.a,{active:p.isLoading});return p.ordersLoaded&&n.orders.length>0?g=Object(k.jsx)(F,{orders:n.orders}):p.loadFailed&&(g=Object(k.jsx)("p",{children:"We can't load your orders... maybe try creating one?"})),Object(k.jsx)("div",{children:g})}}}]);
//# sourceMappingURL=9.df4d7b8a.chunk.js.map